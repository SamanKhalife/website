```markdown
---
title: مدیریت اشیاء Kubernetes
content_type: مفهوم
weight: 20
---

<!-- overview -->
ابزار خط فرمان `kubectl` پشتیبانی می‌کند از چندین روش مختلف برای ایجاد و مدیریت
{{< glossary_tooltip text="اشیاء" term_id="object" >}}
Kubernetes. این سند بررسی اجمالی از رویکردهای مختلف را فراهم می‌کند. برای جزئیات بیشتر در مورد مدیریت اشیاء توسط `kubectl`، به [کتاب kubectl](https://kubectl.docs.kubernetes.io) مراجعه کنید.

<!-- body -->

## تکنیک‌های مدیریت

{{< warning >}}
یک اشیاء Kubernetes باید با استفاده از یک تکنیک مدیریت شود. ترکیب و مطابقت تکنیک‌ها برای همان اشیاء منجر به رفتار تعریف‌نشده می‌شود.
{{< /warning >}}

| تکنیک مدیریت                    | عملیات بر روی        | محیط پیشنهادی          | نویسندگان پشتیبانی شده | منحنی یادگیری   |
|----------------------------------|------------------------|------------------------|--------------------|----------------|
| دستورات امری                  | اشیاء زنده           | پروژه‌های توسعه‌ای    | 1+                 | پایین          |
| پیکربندی اشیاء امری           | فایل‌های جداگانه    | پروژه‌های تولیدی     | 1                  | متوسط          |
| پیکربندی اشیاء اظهاری          | دایرکتوری فایل‌ها    | پروژه‌های تولیدی     | 1+                 | بالاتر          |

## دستورات امری

در استفاده از دستورات امری، کاربر مستقیماً بر روی اشیاء زنده در خوشه عمل می‌کند. کاربر عملیات مورد نیاز را به دستور `kubectl` به عنوان آرگومان‌ها یا پرچم‌ها ارائه می‌دهد.

این روش توصیه می‌شود برای شروع یا اجرای یک کار یک‌باره در یک خوشه است. این روش، زیرا کار مستقیماً بر روی اشیاء زنده عمل می‌کند، تاریخچه‌ای از پیکربندی‌های قبلی فراهم نمی‌کند.

### مثال‌ها

ایجاد یک نمونه از کانتینر nginx با ایجاد یک شی Deployment:

```sh
kubectl create deployment nginx --image nginx
```

### مزایا و معایب

#### مزایا نسبت به پیکربندی اشیاء:

- دستورات به عنوان یک کلمه عملیاتی بیان می‌شوند.
- دستورات فقط یک مرحله برای انجام تغییرات در خوشه نیاز دارند.

#### معایب نسبت به پیکربندی اشیاء:

- دستورات با فرآیندهای مرور تغییرات ادغام نمی‌شوند.
- دستورات هیچ ردیابی حسابی مرتبط با تغییرات ارائه نمی‌دهند.
- دستورات منبع را به جز آنچه زنده است ارائه نمی‌دهند.
- دستورات الگوی ایجاد اشیاء جدید ارائه نمی‌دهند.

## پیکربندی اشیاء امری

در پیکربندی اشیاء امری، دستور `kubectl` عملیات (ایجاد، جایگزینی و غیره)، پرچم‌های اختیاری و حداقل یک نام فایل را مشخص می‌کند. فایل مشخص شده باید شامل تعریف کامل اشیاء به فرمت YAML یا JSON باشد.

برای جزئیات بیشتر در مورد تعاریف اشیاء به [مرجع API](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/) مراجعه کنید.


{{< warning >}}
دستور اجباری `replace`، مشخصات موجود را با مشخصات جدید جایگزین می‌کند و تمام تغییراتی را که در شی موجود در فایل پیکربندی نیستند، حذف می‌کند. این روش باید با انواع منابعی که مشخصات آن‌ها به طور مستقل از فایل پیکربندی به‌روزرسانی می‌شوند، استفاده نشود. به عنوان مثال، سرویس‌های نوع `LoadBalancer`، فیلد `externalIPs` خود را به‌طور مستقل از پیکربندی توسط خوشه به‌روزرسانی می‌کنند.
{{< /warning >}}

### مثال‌ها

ایجاد اشیاء تعریف شده در یک فایل پیکربندی:

```sh
kubectl create -f nginx.yaml
```

حذف اشیاء تعریف شده در دو فایل پیکربندی:

```sh
kubectl delete -f nginx.yaml -f redis.yaml
```

به‌روزرسانی اشیاء تعریف شده در یک فایل پیکربندی با بازنویسی پیکربندی زنده:

```sh
kubectl replace -f nginx.yaml
```

### تعادل‌ها

مزایا نسبت به دستورات اجباری:

- می‌توان پیکربندی اشیاء را در یک سیستم کنترل نسخه مانند Git ذخیره کرد.
- پیکربندی اشیاء می‌تواند با فرآیندهایی مانند بررسی تغییرات قبل از push و ردیابی مراجعه ادغام شود.
- پیکربندی اشیاء الگویی برای ایجاد اشیاء جدید فراهم می‌آورد.

معایب نسبت به دستورات اجباری:

- پیکربندی اشیاء نیازمند درک ابتدایی از طرح شی می‌باشد.
- پیکربندی اشیاء نیازمند مرحله اضافی نوشتن یک فایل YAML است.

مزایا نسبت به پیکربندی اشیاء اعلامی:

- رفتار پیکربندی اشیاء اجباری ساده‌تر و آسان‌تر قابل درک است.
- از نسخه Kubernetes 1.5 به بعد، پیکربندی اشیاء اجباری بالغ‌تر است.

معایب نسبت به پیکربندی اشیاء اعلامی:

- پیکربندی اشیاء اجباری بهترین عمل می‌کند روی فایل‌ها، نه دایرکتوری‌ها.
- به‌روزرسانی‌های اشیاء زنده باید در فایل‌های پیکربندی منعکس شود، در غیر این صورت در جایگزینی بعدی از بین می‌روند.

## پیکربندی اشیاء اعلامی

زمانی که از پیکربندی اشیاء اعلامی استفاده می‌شود، کاربر بر روی فایل‌های پیکربندی اشیاء عمل می‌کند که به صورت محلی ذخیره شده‌اند، اما عملیاتی که باید بر روی فایل‌ها انجام شود توسط `kubectl` به‌صورت خودکار شناسایی می‌شود. عملیات‌های ایجاد، به‌روزرسانی و حذف به‌صورت خودکار بر روی هر اشیاء توسط `kubectl` شناسایی می‌شود.

{{< note >}}
پیکربندی اشیاء اعلامی تغییرات اعمال شده توسط دیگر نویسندگان را حفظ می‌کند، حتی اگر تغییرات به فایل پیکربندی اشیاء ادغام نشده باشند. این امکان با استفاده از عملیات API `patch` برای نوشتن تنها تفاوت‌های مشاهده‌شده، به‌جای استفاده از عملیات `replace` برای جایگزینی کل پیکربندی اشیاء، وجود دارد.
{{< /note >}}

### مثال‌ها

پردازش تمام فایل‌های پیکربندی اشیاء در دایرکتوری `configs` و ایجاد یا پچ کردن اشیاء زنده. می‌توانید ابتدا `diff` را انجام دهید تا تغییراتی که در حال انجام هستند را ببینید، و سپس اعمال کنید:

```sh
kubectl diff -f configs/
kubectl apply -f configs/
```

پردازش بازگشتی دایرکتوری‌ها:

```sh
kubectl diff -R -f configs/
kubectl apply -R -f configs/
```

### تعادل‌ها

مزایا نسبت به پیکربندی اشیاء اجباری:

- تغییرات اعمال شده به صورت مستقیم بر روی اشیاء زنده حفظ می‌شوند، حتی اگر به فایل‌های پیکربندی اشیاء ادغام نشده باشند.
- پیکربندی اشیاء اعلامی پشتیبانی بهتری از عملیات بر روی دایرکتوری‌ها و شناسایی خودکار انواع عملیات (ایجاد، پچ، حذف) بر روی هر اشیاء دارد.

معایب نسبت به پیکربندی اشیاء اجباری:

- پیکربندی اشیاء اعلامی سخت‌تر برای اشتباه‌یابی و درک نتایج آن هنگامی که ناگهانی هستند است.
- به‌روزرسانی‌های جزئی با استفاده از diffs عملیات ادغام و پچ پیچیده‌ای ایجاد می‌کنند.

## {{% heading "whatsnext" %}}

- [مدیریت اشیاء Kubernetes با استفاده از دستورات اجباری](/docs/tasks/manage-kubernetes-objects/imperative-command/)
- [

مدیریت اجباری اشیاء Kubernetes با استفاده از فایل‌های پیکربندی](/docs/tasks/manage-kubernetes-objects/imperative-config/)
- [مدیریت اعلامی اشیاء Kubernetes با استفاده از فایل‌های پیکربندی](/docs/tasks/manage-kubernetes-objects/declarative-config/)
- [مدیریت اعلامی اشیاء Kubernetes با استفاده از Kustomize](/docs/tasks/manage-kubernetes-objects/kustomization/)
- [مرجع دستورات Kubectl](/docs/reference/generated/kubectl/kubectl-commands/)
- [کتاب Kubectl](https://kubectl.docs.kubernetes.io)
- [مرجع API Kubernetes](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/)
