---
title: اشیاء در Kubernetes
content_type: concept
weight: 10
description: >
  اشیاء Kubernetes موجودیت‌های پایدار در سیستم Kubernetes هستند. Kubernetes از این
  اشیاء برای نمایش وضعیت خوشه‌ی شما استفاده می‌کند. در اینجا مدل اشیاء Kubernetes
  و نحوه کار با این اشیاء را یاد بگیرید.
simple_list: true
card:
  name: مفاهیم
  weight: 40
---

<!-- overview -->

این صفحه توضیح می‌دهد که چگونه اشیاء Kubernetes در API Kubernetes نمایش داده می‌شوند و
چگونه می‌توان آن‌ها را به فرمت `.yaml` بیان کرد.

<!-- body -->

## درک اشیاء Kubernetes {#kubernetes-objects}

*اشیاء Kubernetes* موجودیت‌های پایدار در سیستم Kubernetes هستند. Kubernetes از این
موجودیت‌ها برای نمایش وضعیت خوشه‌ی شما استفاده می‌کند. به طور خاص، آن‌ها می‌توانند
توصیف کنند:

* کدام برنامه‌های حاوی کانتینر در حال اجرا هستند (و در کدام گره‌ها)
* منابعی که برای این برنامه‌ها در دسترس هستند
* سیاست‌هایی که مربوط به رفتار این برنامه‌ها هستند، مانند سیاست‌های دوباره‌آغازی، ارتقاء
و مقاومت در برابر خطاها

یک اشیاء Kubernetes "سند نیت" است - هنگامی که شما اشیاء را ایجاد می‌کنید، سیستم Kubernetes
پایداراً برای اطمینان از وجود این اشیاء کار می‌کند. با ایجاد یک شی، به طور موثر به
سیستم Kubernetes می‌گویید که می‌خواهید بار کاری خوشه‌تان چگونه به نظر بیاید؛ این وضعیت
مطلوب خوشه‌تان است.

برای کار با اشیاء Kubernetes - آیا برای ایجاد، تغییر یا حذف آن‌ها - شما باید از
[API Kubernetes](/docs/concepts/overview/kubernetes-api/) استفاده کنید. به عنوان مثال،
زمانی که از رابط خط فرمان `kubectl` استفاده می‌کنید، این رابط کارهای لازم را برای شما انجام
می‌دهد. همچنین می‌توانید API Kubernetes را مستقیماً در برنامه‌های خود با استفاده از یکی از
[کتابخانه‌های مشتری](/docs/reference/using-api/client-libraries/) استفاده کنید.

### مشخصات شی و وضعیت

تقریباً هر اشیاء Kubernetes شامل دو فیلد شی داخلی است که وضعیت پیکربندی اشیاء را کنترل
می‌کند: *`spec`* و *`status`* شی. برای اشیاء که دارای `spec` هستند، باید زمانی که اشیاء را
ایجاد می‌کنید، این را تنظیم کنید، که یک شرح از ویژگی‌هایی که می‌خواهید منبع داشته باشید: وضعیت
مطلوب آن.

`status` وضعیت کنونی اشیاء را توصیف می‌کند، که توسط سیستم Kubernetes و اجزای آن ارائه شده و
به‌روزرسانی می‌شود. {{< glossary_tooltip text="کنترل پلن" term_id="control-plane" >}}
Kubernetes به طور مداوم و به‌صورت فعال وضعیت واقعی هر اشیاء را برای تطابق با وضعیت مطلوبیت
که شما ارائه داده‌اید مدیریت می‌کند.

به عنوان مثال: در Kubernetes، Deployment یک شی است که می‌تواند یک برنامه را که در حال اجرا
بر روی خوشه شماست نمایش دهد. هنگامی که Deployment را ایجاد می‌کنید، ممکن است `spec`
Deployment را به‌طور که می‌خواهید سه نسخه از برنامه در حال اجرا باشد، تنظیم کنید. سیستم Kubernetes
مشخصات Deployment را خوانده و سه نمونه از برنامه مورد نظر شما را شروع می‌کند - به‌روزرسانی
وضعیت برای مطابقت با مشخصات شما. اگر هرکدام از این نمونه‌ها شکست خورد (تغییر وضعیت)، سیستم
Kubernetes به اختلاف بین مشخصات و وضعیت با اصلاحی مانند شروع نمونه جایگزین پاسخ می‌دهد.

برای اطلاعات بیشتر درباره مشخصات شی، وضعیت و متادیتا، به
[Kubernetes API Conventions](https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md)
مراجعه کنید.

### توصیف اشیاء Kubernetes

زمانی که یک شی در Kubernetes ایجاد می‌کنید، باید مشخصات شی را که وضعیت مطلوب آن را توصیف
می‌کند، و همچنین برخی اطلاعات اساسی در مورد شی (مانند نام) را فراهم کنید. زمانی که از
API Kubernetes برای ایجاد شی استفاده می‌کنید (به صورت مستقیم یا از طریق `kubectl`)،
درخواست API باید این اطلاعات را به‌صورت JSON در بدنه درخواست شامل کند.
بیشترین موارد، شما اطلاعات را به `kubectl` در یک فایلی که به عنوان _manifest_ شناخته می‌شود
فراهم می‌کنید. به طور کلی، مان

یفست‌ها به صورت YAML هستند (می‌توانید از فرمت JSON نیز استفاده کنید).
ابزارهایی مانند `kubectl` اطلاعات را از مانیفست به JSON یا سایر فرمت‌های سریالیزیشن
پشتیبانی شده تبدیل می‌کنند هنگام ارسال درخواست API از طریق HTTP.

در اینجا یک مانیفست نمونه است که فیلدها و مشخصات شی لازم برای یک Deployment Kubernetes
را نشان می‌دهد:

{{% code_sample file="application/deployment.yaml" %}}

یک راه ایجاد Deployment با استفاده از یک پرونده مانیفست مانند فایل بالا استفاده از
دستور [`kubectl apply`](/docs/reference/generated/kubectl/kubectl-commands#apply) در رابط
خط فرمان `kubectl` است، پرونده `.yaml` را به عنوان یک آرگومان می‌گذارد. در اینجا مثالی است:

```shell
kubectl apply -f https://k8s.io/examples/application/deployment.yaml
```

خروجی به این شکل است:

```
deployment.apps/nginx-deployment created
```

### فیلدهای لازم

در مانیفست (پرونده YAML یا JSON) برای شی Kubernetes که می‌خواهید ایجاد کنید، باید برای
فیلدهای زیر ارزش‌های تنظیم کنید:

* `apiVersion` - نسخه‌ی کدام API Kubernetes را برای ایجاد این شی استفاده می‌کنید
* `kind` - نوع شی که می‌خواهید ایجاد کنید
* `metadata` - داده‌هایی که به شناسایی یکتا شی کمک می‌کند، شامل یک رشته `name`، `UID` و
انجامیه `اختیاری
* `spec` - وضعیت مورد نظر شما برای شی

فرمت دقیق مشخصات `spec` برای هر شی Kubernetes متفاوت است و شامل فیلدهای داخلی خاص به
هر شی است. [مرجع API Kubernetes](/docs/reference/kubernetes-api/) می‌تواند به شما
کمک کند تا فرمت مشخصات برای تمام اشیاء را که می‌توانید با استفاده از Kubernetes ایجاد
کنید، پیدا کنید.

به عنوان مثال، به
[فیلد `spec`](/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec)
برای مرجع API پاد نگاه کنید.
برای هر پاد، فیلد `.spec` وضعیت پاد و وضعیت مطلوب آن را مشخص می‌کند (مانند نام تصویر کانتینر
برای هر کانتینر در آن پاد).
یک مثال دیگر از مشخصات شی، به
[فیلد `spec`](/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetSpec)
برای مرجع API StatefulSet نگاه کنید. برای StatefulSet، فیلد `.spec` وضعیت StatefulSet و
مطلوب آن را مشخص می‌کند.
در `.spec` یک StatefulSet، یک [قالب](/docs/concepts/workloads/pods/#pod-templates)
برای اشیاء Pod وجود دارد. آن قالب پادها را توصیف می‌کند که کنترل کننده StatefulSet
برای رضایت از مشخصات StatefulSet ایجاد می‌کند.
انواع مختلفی از اشیاء همچنین می‌توانند از `.status`‌ مختلف داشته باشند؛ دوباره صفحات
مرجع API جزئیات ساختار آن فیلد `.status` و محتوای آن برای هر نوع مختلف شی را توضیح
می‌دهند.

{{< note >}}
برای اطلاعات بیشتر درباره [Best Practices پیکربندی](/docs/concepts/configuration/overview/) مشاهده کنید.
{{< /note >}}

## اعتبارسنجی فیلد سمت سرور

از Kubernetes v1.25 به بعد، سرور API ارائه می‌دهد
[اعتبارسنجی فیلد سمت سرور](/docs/reference/using-api/api-concepts/#field-validation)
که شناسایی فیلدهای نامعتبر یا تکراری در یک شی را تشخیص می‌دهد. این تمامیت وظیفه‌ای
از `kubectl --validate` را در سمت سرور ارائه می‌دهد.

ابزار `kubectl` از پرچم `--validate` برای تنظیم سطح اعتبارسنجی فیلد استفاده می‌کند. این
مقادیر را `ignore`، `warn` و `strict` دریافت می‌کند و همچنین مقادیر `true` (معادل با
`strict`) و `false` (معادل با `ignore`) را پذیرفته می‌کند. تنظیم اعتبارسنجی پیش‌فرض
برای `kubectl` `--validate=true` است.

`Strict`
: اعتبارسنجی فیلد دقیق، خطاها در حالت اعتبارسنجی رخ می‌دهد

`Warn`
: انجام اعتبارسنجی فیلد، اما خطاها به عنوان هشدارها بدون شکست درخواست نمایش داده می‌شوند

`Ignore`
: اعتبارسنجی فیلد سمت سرور انجام نمی‌شود

زمانی که `kubectl` نتواند به سرور API وصل شود که از اعتبارسنجی فیلد پشتیبانی می‌کند،
به اعتبارسنجی سمت مشتری سقوط می‌کند. Kubernetes 1.27 و نسخه‌های بعدی همیشه اعتبارسنجی
فیلد را ارائه می‌دهند؛ نسخه‌های قدیمی‌تر Kubernetes ممکن است ارائه ندهند. اگر خوشه‌ی
شما قدیمی‌تر از v1.27 است، برای نسخه Kubernetes خود مستندات را بررسی کنید.

## {{% heading "whatsnext" %}}

اگر به Kubernetes تازه وارد هستید، در مورد

 موارد زیر بیشتر بخوانید:

* [Pods](/docs/concepts/workloads/pods/) که مهم‌ترین اشیاء اساسی Kubernetes هستند.
* [Deployment](/docs/concepts/workloads/controllers/deployment/) objects.
* [Controllers](/docs/concepts/architecture/controller/) در Kubernetes.
* [kubectl](/docs/reference/kubectl/) و [kubectl commands](/docs/reference/generated/kubectl/kubectl-commands).

[مدیریت اشیاء Kubernetes](/docs/concepts/overview/working-with-objects/object-management/)
توضیح می‌دهد که چگونه از `kubectl` برای مدیریت اشیاء استفاده کنید.
ممکن است نیاز داشته باشید تا [kubectl را نصب کنید](/docs/tasks/tools/#kubectl) اگر
در دسترس ندارید.

برای یادگیری در مورد API Kubernetes به طور کلی، مراجعه کنید به:

* [بررسی API Kubernetes](/docs/reference/using-api/)

برای یادگیری در مورد اشیاء در Kubernetes به عمق بیشتر، صفحات دیگر در این بخش را بخوانید:
<!-- Docsy خودکارا یک فهرست از صفحات در بخش را ارائه می‌دهد -->
