---
title: مدیریت اشیاء Kubernetes با استفاده از دستورات دستوری
content_type: task
weight: 30
---

<!-- overview -->
اشیاء Kubernetes می‌توانند به سرعت با استفاده از دستورات دستوری موجود در ابزار خط فرمان `kubectl` ایجاد، به‌روزرسانی و حذف شوند. این سند توضیح می‌دهد که چگونه این دستورات سازماندهی شده‌اند و چگونه می‌توان از آنها برای مدیریت اشیاء زنده استفاده کرد.

## {{% heading "prerequisites" %}}

نصب [`kubectl`](/docs/tasks/tools/).

{{< include "task-tutorial-prereqs.md" >}} {{< version-check >}}

<!-- steps -->

## مزایا و معایب

ابزار `kubectl` از سه نوع مدیریت اشیاء پشتیبانی می‌کند:

* دستورات دستوری
* پیکربندی شیء دستوری
* پیکربندی شیء اعلامی

برای بحث در مورد مزایا و معایب هر نوع مدیریت شیء، به [مدیریت اشیاء Kubernetes](/docs/concepts/overview/working-with-objects/object-management/) مراجعه کنید.

## نحوه ایجاد اشیاء

ابزار `kubectl` از دستورات مبتنی بر فعل برای ایجاد برخی از رایج‌ترین انواع اشیاء پشتیبانی می‌کند. این دستورات به گونه‌ای نامگذاری شده‌اند که برای کاربرانی که با انواع اشیاء Kubernetes آشنا نیستند قابل تشخیص باشند.

- `run`: ایجاد یک Pod جدید برای اجرای یک کانتینر.
- `expose`: ایجاد یک شیء Service جدید برای توازن بار ترافیک بین Pods.
- `autoscale`: ایجاد یک شیء Autoscaler جدید برای مقیاس افقی خودکار یک کنترلر، مانند Deployment.

ابزار `kubectl` همچنین از دستورات ایجاد مبتنی بر نوع شیء پشتیبانی می‌کند. این دستورات از انواع بیشتری از اشیاء پشتیبانی می‌کنند و بیشتر در مورد قصد خود صریح هستند، اما نیاز به شناخت نوع اشیایی که قصد ایجاد آنها را دارید دارند.

- `create <objecttype> [<subtype>] <instancename>`

برخی از انواع اشیاء زیرنوع‌هایی دارند که می‌توانید در دستور `create` مشخص کنید. برای مثال، شیء Service چندین زیرنوع دارد که شامل ClusterIP، LoadBalancer و NodePort می‌شود. در اینجا مثالی از ایجاد یک Service با زیرنوع NodePort آورده شده است:

```shell
kubectl create service nodeport <myservicename>
```

در مثال فوق، دستور `create service nodeport` یک زیر دستور از دستور `create service` نامیده می‌شود.

می‌توانید از پرچم `-h` برای یافتن آرگومان‌ها و پرچم‌های پشتیبانی شده توسط یک زیر دستور استفاده کنید:

```shell
kubectl create service nodeport -h
```

## نحوه به‌روزرسانی اشیاء

دستور `kubectl` از دستورات مبتنی بر فعل برای برخی عملیات‌های به‌روزرسانی رایج پشتیبانی می‌کند. این دستورات به گونه‌ای نامگذاری شده‌اند که کاربران ناآشنا با اشیاء Kubernetes بتوانند به‌روزرسانی‌ها را بدون دانستن فیلدهای خاصی که باید تنظیم شوند انجام دهند:

- `scale`: مقیاس افقی یک کنترلر برای افزودن یا حذف Pods با به‌روزرسانی تعداد نسخ کنترلر.
- `annotate`: افزودن یا حذف یک حاشیه‌نویسی از یک شیء.
- `label`: افزودن یا حذف یک برچسب از یک شیء.

دستور `kubectl` همچنین از دستورات به‌روزرسانی مبتنی بر جنبه‌های یک شیء پشتیبانی می‌کند. تنظیم این جنبه‌ها ممکن است فیلدهای مختلفی را برای انواع مختلف اشیاء تنظیم کند:

- `set` `<field>`: تنظیم جنبه‌ای از یک شیء.

{{< note >}}
در نسخه 1.5 Kubernetes، هر دستور مبتنی بر فعل یک دستور مبتنی بر جنبه معادل ندارد.
{{< /note >}}

ابزار `kubectl` از این روش‌های اضافی برای به‌روزرسانی مستقیم یک شیء زنده پشتیبانی می‌کند، اما این روش‌ها نیاز به درک بهتر از شمای اشیاء Kubernetes دارند.

- `edit`: ویرایش مستقیم پیکربندی خام یک شیء زنده با باز کردن پیکربندی آن در یک ویرایشگر.
- `patch`: اصلاح مستقیم فیلدهای خاص یک شیء زنده با استفاده از یک رشته patch. برای جزئیات بیشتر در مورد رشته‌های patch، به بخش patch در [API Conventions](https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#patch-operations) مراجعه کنید.

## نحوه حذف اشیاء

می‌توانید از دستور `delete` برای حذف یک شیء از یک خوشه استفاده کنید:

- `delete <type>/<name>`

{{< note >}}
می‌توانید از `kubectl delete` هم برای دستورات دستوری و هم برای پیکربندی شیء دستوری استفاده کنید. تفاوت در آرگومان‌های عبور داده شده به دستور است. برای استفاده از `kubectl delete` به عنوان یک دستور دستوری، شیء مورد نظر برای حذف را به عنوان آرگومان عبور دهید. در اینجا مثالی آورده شده است که یک شیء Deployment با نام nginx را عبور می‌دهد:
{{< /note >}}

```shell
kubectl delete deployment/nginx
```

## نحوه مشاهده یک شیء

{{< comment >}}
TODO(pwittrock): این را زمانی که پیاده‌سازی شد از حالت کامنت خارج کنید.

می‌توانید از `kubectl view` برای چاپ فیلدهای خاص یک شیء استفاده کنید.

- `view`: مقدار یک فیلد خاص از یک شیء را چاپ می‌کند.

{{< /comment >}}

چندین دستور برای چاپ اطلاعات درباره یک شیء وجود دارد:

- `get`: اطلاعات پایه درباره اشیاء مطابقت یافته را چاپ می‌کند. برای دیدن لیستی از گزینه‌ها از `get -h` استفاده کنید.
- `describe`: اطلاعات تجمیعی و جزئیات درباره اشیاء مطابقت یافته را چاپ می‌کند.
- `logs`: stdout و stderr یک کانتینر در حال اجرا در یک Pod را چاپ می‌کند.

## استفاده از دستورات `set` برای اصلاح اشیاء قبل از ایجاد

برخی فیلدهای شیء وجود دارند که پرچمی برای آنها در یک دستور `create` وجود ندارد. در برخی از این موارد، می‌توانید از ترکیبی از `set` و `create` برای مشخص کردن مقداری برای فیلد قبل از ایجاد شیء استفاده کنید. این کار با انتقال خروجی دستور `create` به دستور `set` و سپس بازگشت به دستور `create` انجام می‌شود. در اینجا مثالی آورده شده است:

```sh
kubectl create service clusterip my-svc --clusterip="None" -o yaml --dry-run=client | kubectl set selector --local -f - 'environment=qa' -o yaml | kubectl create -f -
```

1. دستور `kubectl create service -o yaml --dry-run=client` پیکربندی Service را ایجاد می‌کند، اما آن را به stdout به عنوان YAML چاپ می‌کند به جای اینکه آن را به سرور API Kubernetes ارسال کند.
1. دستور `kubectl set selector --local -f - -o yaml` پیکربندی را از stdin می‌خواند و پیکربندی به‌روزرسانی شده را به stdout به عنوان YAML می‌نویسد.
1. دستور `kubectl create -f -` شیء را با استفاده از پیکربندی ارائه شده از طریق stdin ایجاد می‌کند.

## استفاده از `--edit` برای اصلاح اشیاء قبل از ایجاد

می‌توانید از `kubectl create --edit` برای ایجاد تغییرات دلخواه در یک شیء قبل از ایجاد آن استفاده کنید. در اینجا مثالی آورده شده است:

```sh
kubectl create service clusterip my-svc --clusterip="None" -o yaml --dry-run=client > /tmp/srv.yaml
kubectl create --edit -f /tmp/srv.yaml
```

1. دستور `kubectl create service` پیکربندی Service را ایجاد می‌کند و آن را در `/tmp/srv.yaml` ذخیره می‌کند.
1. دستور `kubectl create --edit` فایل پیکربندی را برای ویرایش باز می‌کند قبل از اینکه شیء را ایجاد کند.

## {{% heading "whatsnext" %}}

* [مدیریت دستوری اشیاء Kubernetes با استفاده از فایل‌های پیکربندی](/docs/tasks/manage-kubernetes-objects/imperative-config/)
* [مدیریت اعلامی اشیاء Kubernetes با استفاده از فایل‌های پیکربندی](/docs/tasks/manage-kubernetes-objects/declarative-config/)
* [مرجع دستورات Kubectl](/docs/reference/generated/kubectl/kubectl-commands/)
* [مرجع API Kubernetes](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/)
