---
title: "تعریف دستور و آرگومان برای یک کانتینر"
content_type: task
weight: 10
---

<!-- overview -->

این صفحه نحوه تعریف دستورات و آرگومان‌ها را نشان می‌دهد زمانی که شما یک کانتینر را در یک {{< glossary_tooltip term_id="pod" >}} اجرا می‌کنید.

## {{% heading "prerequisites" %}}

{{< include "task-tutorial-prereqs.md" >}} {{< version-check >}}

<!-- steps -->

## تعریف دستور و آرگومان‌ها هنگام ایجاد یک Pod

زمانی که یک Pod ایجاد می‌کنید، می‌توانید دستور و آرگومان‌هایی را برای کانتینرهایی که در Pod اجرا می‌شوند، تعریف کنید. برای تعریف یک دستور، فیلد `command` را در فایل پیکربندی قرار دهید. برای تعریف آرگومان‌ها برای دستور، فیلد `args` را در فایل پیکربندی قرار دهید. دستور و آرگومان‌هایی که شما تعریف می‌کنید، نمی‌توانند پس از ایجاد Pod تغییر کنند.

دستور و آرگومان‌هایی که در فایل پیکربندی تعریف می‌کنید، دستور و آرگومان‌های پیش‌فرضی که توسط تصویر کانتینر ارائه شده‌اند را جایگزین می‌کنند. اگر آرگومان‌ها را تعریف کنید اما دستور را تعریف نکنید، دستور پیش‌فرض با آرگومان‌های جدید شما استفاده می‌شود.

{{< note >}}
فیلد `command` معادل `ENTRYPOINT` و فیلد `args` معادل `CMD` در برخی اجراگرهای کانتینر است.
{{< /note >}}

در این تمرین، شما یک Pod ایجاد می‌کنید که یک کانتینر اجرا می‌کند. فایل پیکربندی برای Pod یک دستور و دو آرگومان تعریف می‌کند:

{{% code_sample file="pods/commands.yaml" %}}

1. بر اساس فایل پیکربندی YAML، یک Pod ایجاد کنید:

   ```shell
   kubectl apply -f https://k8s.io/examples/pods/commands.yaml
   ```

1. لیست Podهای در حال اجرا را بگیرید:

   ```shell
   kubectl get pods
   ```

   خروجی نشان می‌دهد که کانتینری که در Pod با نام command-demo اجرا شده است، به پایان رسیده است.

1. برای دیدن خروجی دستوری که در کانتینر اجرا شده است، لاگ‌های Pod را ببینید:

   ```shell
   kubectl logs command-demo
   ```

   خروجی نمایش داده می‌شود از مقادیر متغیرهای محیطی HOSTNAME و KUBERNETES_PORT:

   ```
   command-demo
   tcp://10.3.240.1:443
   ```

## استفاده از متغیرهای محیطی برای تعریف آرگومان‌ها

در مثال قبلی، آرگومان‌ها را مستقیماً با ارائه رشته‌ها تعریف کرده‌اید. به عنوان جایگزین برای ارائه رشته‌ها مستقیماً، می‌توانید آرگومان‌ها را با استفاده از متغیرهای محیطی تعریف کنید:

```yaml
env:
- name: MESSAGE
  value: "hello world"
command: ["/bin/echo"]
args: ["$(MESSAGE)"]
```

این بدان معنی است که می‌توانید یک آرگومان برای یک Pod با استفاده از هر یک از تکنیک‌های موجود برای تعریف متغیرهای محیطی تعریف کنید، از جمله [ConfigMaps](/docs/tasks/configure-pod-container/configure-pod-configmap/) و [Secrets](/docs/concepts/configuration/secret/).

{{< note >}}
متغیر محیطی در پرانتز قرار دارد، `"$(VAR)"`. این برای توسعه متغیر در فیلد `command` یا `args` ضروری است.
{{< /note >}}

## اجرای یک دستور در یک شل

در برخی موارد، شما نیاز دارید که دستور خود را در یک شل اجرا کنید. به عنوان مثال، دستور شما ممکن است از چند دستور به هم پیوسته تشکیل شده باشد، یا ممکن است یک اسکریپت شل باشد. برای اجرای دستور خود در یک شل، آن را به صورت زیر بسته‌بندی کنید:

```shell
command: ["/bin/sh"]
args: ["-c", "while true; do echo hello; sleep 10;done"]
```

## {{% heading "whatsnext" %}}

* بیشتر در مورد [پیکربندی Pods و Containers](/docs/tasks/) بیاموزید.
* بیشتر در مورد [اجرای دستورات در یک کانتینر](/docs/tasks/debug/debug-application/get-shell-running-container/) بیاموزید.
* [Container](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/#container-v1-core) را ببینید.
