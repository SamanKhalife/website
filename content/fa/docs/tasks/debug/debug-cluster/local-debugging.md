---
title: توسعه و اشکال‌زدایی سرویس‌ها به صورت محلی با استفاده از Telepresence
content_type: task
---

<!-- overview -->

{{% thirdparty-content %}}

اپلیکیشن‌های Kubernetes معمولاً از چندین سرویس جداگانه تشکیل شده‌اند، هرکدام در یک کانتینر اجرا می‌شوند. توسعه و اشکال‌زدایی این سرویس‌ها روی یک خوشه Kubernetes از راه دور ممکن است مشکل‌آفرین باشد، زیرا برای اجرای ابزارهای اشکال‌زدایی باید به [دریافت یک شل در یک کانتینر در حال اجرا](/docs/tasks/debug/debug-application/get-shell-running-container/)
دست بزنید.

`telepresence` یک ابزار است که فرآیند توسعه و اشکال‌زدایی سرویس‌ها را به صورت محلی و همزمان پروکسی کردن سرویس به یک خوشه Kubernetes از راه دور را آسان می‌کند. استفاده از `telepresence` به شما اجازه می‌دهد تا از ابزارهای سفارشی مانند ابزار اشکال‌زدایی و IDE برای یک سرویس محلی استفاده کنید و به سرویس دسترسی کامل به ConfigMap، رمزها و سرویس‌های در حال اجرا در خوشه از راه دور را فراهم می‌سازد.

این سند شرح می‌دهد که چگونه از `telepresence` برای توسعه و اشکال‌زدایی سرویس‌های در حال اجرا در یک خوشه از راه دور به صورت محلی استفاده کنید.

## {{% heading "prerequisites" %}}

* نصب شده بودن خوشه Kubernetes
* پیکربندی شده بودن `kubectl` برای ارتباط با خوشه
* [نصب Telepresence](https://www.telepresence.io/docs/latest/quick-start/)

<!-- steps -->

## اتصال ماشین محلی خود به یک خوشه Kubernetes از راه دور

پس از نصب `telepresence`، دستور `telepresence connect` را اجرا کنید تا دیمن دستگاه Telepresence راه‌اندازی شود و ایستگاه کاری محلی شما به خوشه متصل شود.

```
$ telepresence connect

Launching Telepresence Daemon
...
Connected to context default (https://<cluster public IP>)
```

می‌توانید خدمات را با استفاده از نحوهٔ کوریزه کبیرنتی از طریق curl دریافت کنید، مثلاً `curl -ik https://kubernetes.default`

## توسعه یا اشکال‌زدایی یک سرویس موجود

زمانی که یک برنامه را روی Kubernetes توسعه می‌دهید، معمولاً یک سرویس را برنامه‌ریزی یا اشکال‌زدایی می‌کنید. این سرویس ممکن است نیاز به دسترسی به سرویس‌های دیگر برای تست و اشکال‌زدایی داشته باشد. یک گزینه این است که از لولهٔ استقرار پیوسته استفاده کنید، اما حتی سریع‌ترین لولهٔ استقرار نیز تأخیری در چرخه برنامه یا اشکال‌زدایی به وجود می‌آورد.

از دستور `telepresence intercept $SERVICE_NAME --port $LOCAL_PORT:$REMOTE_PORT` برای ایجاد "intercept" جهت بازتاب ترافیک سرویس از راه دور استفاده کنید.

که:

-   `$SERVICE_NAME`  نام سرویس محلی شما است
-   `$LOCAL_PORT` پورتی است که سرویس شما روی ایستگاه کاری محلی شما در حال اجرا است
-   و `$REMOTE_PORT` پورتی است که سرویس شما در خوشه اجرا می‌شود

اجرای این دستور به Telepresence می‌گوید که ترافیک از راه دور را به سرویس محلی شما ارسال کند به جای سرویس در خوشه Kubernetes از راه دور. تغییرات خود را به کد منبع سرویس محلی خود اعمال کنید، آن را ذخیره کنید و تغییرات متناظر را مشاهده کنید که در اجرای برنامهٔ راه دور خود اعمال می‌شود. همچنین می‌توانید سرویس محلی خود را با استفاده از یک ابزار اشکال‌زدایی یا هر ابزار توسعهٔ محلی دیگری اجرا کنید.

## چگونگی عملکرد Telepresence چگونه است؟

Telepresence یک طرف‌دار ماموریتی را کنار کانتینر موجود برنامهٔ شما که در خوشه از راه دور اجرا می‌شود نصب می‌کند. سپس همهٔ درخواست‌های ترافیکی که وارد پاد می‌شود را گرفته و به جای ارسال این به برنامهٔ موجود در خوشه از راه دور، همهٔ ترافیک را (هنگامی که یک [intercept جهانی](https://www.getambassador.io/docs/telepresence/latest/concepts/intercepts/#global-intercept) ایجاد می‌کنید یا یک [intercept شخصی](https://www.getambassador.io/docs/telepresence/latest/concepts/intercepts/#personal-intercept) ایجاد می‌کنید) به محیط توسعهٔ محلی شما مسیردهی می‌کند.

## {{% heading "whatsnext" %}}

اگر به آموزش‌های کاربردی علاقه دارید، آموزش زیر را بررسی کنید:
[این آموزش](https://cloud.google.com/community/tutorials/developing-services-with-k8s)
که نحوهٔ توسعهٔ محلی برنامه Guestbook را در محیط Google Kubernetes Engine را شرح می‌دهد.

برای مط

العهٔ بیشتر، به [وب‌سایت Telepresence](https://www.telepresence.io) مراجعه کنید.
