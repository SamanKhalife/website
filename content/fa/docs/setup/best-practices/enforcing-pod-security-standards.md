---
reviewers:
- tallclair
- liggitt
title: اجرای استانداردهای امنیت پاد
weight: 40
---

<!-- overview -->

این صفحه یک مرور کلی از بهترین روش‌ها برای اجرای
[استانداردهای امنیت پاد](/docs/concepts/security/pod-security-standards) ارائه می‌دهد.

<!-- body -->

## استفاده از کنترل‌کننده پذیرش امنیت پاد داخلی

{{< feature-state for_k8s_version="v1.25" state="stable" >}}

[کنترل‌کننده پذیرش امنیت پاد](/docs/reference/access-authn-authz/admission-controllers/#podsecurity)
قصد دارد جایگزین سیاست‌های امنیت پاد قدیمی شود.

### پیکربندی تمام فضای نام‌های کلاستر

فضای نام‌هایی که هیچ گونه پیکربندی ندارند باید به عنوان شکاف‌های مهم در مدل امنیت کلاستر شما در نظر گرفته شوند. توصیه می‌کنیم که وقت بگذارید و انواع بارهای کاری که در هر فضای نام رخ می‌دهند را تجزیه و تحلیل کنید و با مراجعه به استانداردهای امنیت پاد، سطح مناسبی برای هر یک از آنها تعیین کنید. فضای نام‌های بدون برچسب فقط باید نشان دهند که هنوز ارزیابی نشده‌اند.

در سناریویی که تمام بارهای کاری در تمام فضای نام‌ها دارای نیازهای امنیتی یکسان هستند،
ما یک [مثال](/docs/tasks/configure-pod-container/enforce-standards-namespace-labels/#applying-to-all-namespaces)
ارائه می‌دهیم که نشان می‌دهد چگونه می‌توان برچسب‌های PodSecurity را به صورت عمده اعمال کرد.

### پذیرش اصل کمترین امتیاز

در یک دنیای ایده‌آل، هر پاد در هر فضای نام الزامات سیاست `محدود` را برآورده می‌کرد. با این حال، این امکان پذیر یا عملی نیست، زیرا برخی بارهای کاری به دلایل موجه نیاز به امتیازات بالاتری دارند.

- فضای نام‌هایی که اجازه بارهای کاری `privileged` را می‌دهند باید کنترل‌های دسترسی مناسب را ایجاد و اجرا کنند.
- برای بارهای کاری که در آن فضای نام‌های مجاز اجرا می‌شوند، مستندات مربوط به نیازهای امنیتی منحصر به فرد آنها را نگه دارید. در صورت امکان، در نظر بگیرید که چگونه می‌توان این نیازها را بیشتر محدود کرد.

### پذیرش استراتژی چند حالته

حالت‌های `audit` و `warn` کنترل‌کننده پذیرش استانداردهای امنیت پاد این امکان را فراهم می‌کنند که بدون شکستن بارهای کاری موجود، بینش‌های امنیتی مهمی درباره پادهای خود جمع‌آوری کنید.

این یک عمل خوب است که این حالت‌ها را برای تمام فضای نام‌ها فعال کنید و آنها را به سطح _مطلوب_ و نسخه‌ای که در نهایت می‌خواهید `enforce` کنید تنظیم کنید. هشدارها و حاشیه‌نویسی‌های ممیزی تولید شده در این مرحله می‌توانند شما را به سمت آن وضعیت راهنمایی کنند. اگر انتظار دارید نویسندگان بارهای کاری تغییراتی را برای مطابقت با سطح مطلوب انجام دهند، حالت `warn` را فعال کنید. اگر انتظار دارید از لاگ‌های ممیزی برای نظارت و انجام تغییرات برای مطابقت با سطح مطلوب استفاده کنید، حالت `audit` را فعال کنید.

وقتی حالت `enforce` را به مقدار مطلوب خود تنظیم کردید، این حالت‌ها هنوز هم می‌توانند به چندین روش مفید باشند:

- با تنظیم `warn` به همان سطح `enforce`، مشتریان هشدارهایی دریافت خواهند کرد هنگامی که سعی می‌کنند پادهایی (یا منابعی که الگوهای پاد دارند) ایجاد کنند که از اعتبارسنجی عبور نمی‌کنند. این به آنها کمک می‌کند تا آن منابع را به حالت سازگار به‌روزرسانی کنند.
- در فضای نام‌هایی که `enforce` را به یک نسخه خاص غیر آخرین پین می‌کنند، تنظیم حالت‌های `audit` و `warn` به همان سطح `enforce`، اما به نسخه `آخرین`، دید به تنظیماتی می‌دهد که توسط نسخه‌های قبلی مجاز بودند اما بر اساس بهترین روش‌های فعلی مجاز نیستند.

## جایگزین‌های شخص ثالث

{{% thirdparty-content %}}

گزینه‌های دیگری برای اجرای پروفایل‌های امنیتی در اکوسیستم Kubernetes در حال توسعه هستند:

- [Kubewarden](https://github.com/kubewarden).
- [Kyverno](https://kyverno.io/policies/).
- [OPA Gatekeeper](https://github.com/open-policy-agent/gatekeeper).

تصمیم برای استفاده از یک راه‌حل _داخلی_ (مانند کنترل‌کننده پذیرش PodSecurity) در مقابل یک ابزار شخص ثالث به طور کامل به وضعیت خود شما بستگی دارد. هنگام ارزیابی هر راه‌حلی، اعتماد به زنجیره تامین خود حیاتی است. در نهایت، استفاده از _هر_ یک از روش‌های فوق بهتر از عدم انجام هیچ کاری است.
